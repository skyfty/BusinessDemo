<style>  
    .id-number-input.invalid {  
    border-color: red !important;  
}  
</style>


<form id="edit-form" class="form-horizontal" role="form" data-toggle="validator" method="POST" action="">

    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Content')}:</label>
        <div class="col-xs-12 col-sm-8">
            <textarea id="c-content" data-rule="required" class="form-control editor" rows="5" name="row[content]" cols="50">{$row.content|htmlentities}</textarea>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Proposer_name')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-proposer_name" class="form-control" name="row[proposer_name]" type="text" value="{$row.proposer_name|htmlentities}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('English_name')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-english_name" class="form-control" name="row[english_name]" type="text" value="{$row.english_name|htmlentities}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('User_number')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-user_number" class="form-control" name="row[user_number]" type="text" value="{$row.user_number|htmlentities}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Applicant_type')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-applicant_type" class="form-control" name="row[applicant_type]" type="text" value="{$row.applicant_type|htmlentities}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Certificate_type')}:</label>
        <div class="col-xs-12 col-sm-8">
            <select class="form-control" name="row[certificate_type]" id="tt">
                <option value="身份证">身份证</option>
                <option value="护照">护照</option>
            </select>
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Id_number')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-id_number ii" class="form-control" name="row[id_number]" type="text" value="{$row.id_number|htmlentities}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Nationality_region')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-nationality_region" class="form-control" name="row[nationality_region]" type="text" value="{$row.nationality_region|htmlentities}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Place_residence')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-place_residence" class="form-control" name="row[place_residence]" type="text" value="{$row.place_residence|htmlentities}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Provience')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-provience"  data-toggle="city-picker" class="form-control" name="row[provience]" type="text" value="{$row.provience|htmlentities}">
            <!-- <input id="c-provience" class="form-control" name="row[provience]" type="text" value="{$row.provience|htmlentities}"> -->
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Street')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-street" class="form-control" name="row[street]" type="text" value="{$row.street|htmlentities}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Postal_code')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-postal_code" class="form-control" name="row[postal_code]" type="text" value="{$row.postal_code|htmlentities}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Email')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-email" class="form-control" name="row[email]" type="text" value="{$row.email|htmlentities}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Applicant_telephone')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-applicant_telephone" class="form-control" name="row[applicant_telephone]" type="text" value="{$row.applicant_telephone|htmlentities}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Fee_reduction_request')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-fee_reduction_request" class="form-control" name="row[fee_reduction_request]" type="text" value="{$row.fee_reduction_request|htmlentities}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('Pre_examination_record')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-pre_examination_record" class="form-control" name="row[pre_examination_record]" type="text" value="{$row.pre_examination_record|htmlentities}">
        </div>
    </div>
    <div class="form-group">
        <label class="control-label col-xs-12 col-sm-2">{:__('General_committee_record')}:</label>
        <div class="col-xs-12 col-sm-8">
            <input id="c-general_committee_record" class="form-control" name="row[general_committee_record]" type="text" value="{$row.general_committee_record|htmlentities}">
        </div>
    </div>
    
    <div class="form-group">
        <label for="c-attachment" class="control-label col-xs-12 col-sm-2">{:__('Attachment')}:</label>
        <div class="col-xs-12 col-sm-8">
            <div class="input-group">
                <input id="c-attachment" data-rule="" class="form-control" size="50" name="row[attachment]" type="text" value="{$row.attachment}">
                <div class="input-group-addon no-border no-padding">
                    <span><button type="button" id="faupload-attachment" class="btn btn-danger faupload" data-input-id="c-attachment" data-mimetype="image/gif,image/jpeg,image/png,image/jpg,image/bmp" data-multiple="false" data-preview-id="p-attachment"><i class="fa fa-upload"></i> 上传</button></span>
                    <span><button type="button" id="fachoose-attachment" class="btn btn-primary fachoose" data-input-id="c-attachment" data-mimetype="image/*" data-multiple="false"><i class="fa fa-list"></i> 选择</button></span>
                </div>
                <span class="msg-box n-right" for="c-attachment"></span>
            </div>
            <ul class="row list-inline faupload-preview" id="p-attachment"></ul>
        </div>
    </div>
    <div class="form-group layer-footer">
        <label class="control-label col-xs-12 col-sm-2"></label>
        <div class="col-xs-12 col-sm-8">
            <button type="submit" class="btn btn-primary btn-embossed disabled">{:__('OK')}</button>
        </div>
    </div>
</form>
<script>

document.addEventListener("DOMContentLoaded", function () {
       


        var certificateTypeSelect = document.getElementById('tt');  
    var idNumberInput = document.getElementById('ii');  
  
    // 监听证件类型选择框的变化  
    certificateTypeSelect.addEventListener('change', function() {  
        var selectedType = this.value;  
        var maxLength = selectedType === '身份证' ? 18 : 9; // 身份证通常是18位，护照通常是9位  
  
        // 更新证件号码输入框的最大长度  
        idNumberInput.setAttribute('maxlength', maxLength);  
  
        // 验证当前输入框的值是否超出最大长度，并相应地设置边框颜色  
        validateIdNumberLength(idNumberInput);  
    });  
  
    // 验证证件号码长度并设置边框颜色  
    function validateIdNumberLength(input) {  
        var value = input.value.trim();  
        var maxLength = certificateTypeSelect.value === '身份证' ? 18 : 9;  
  
        if (value.length > maxLength) {  
            input.classList.add('invalid');  
        } else {  
            input.classList.remove('invalid');  
        }  
    }  
  
    // 初始设置  
    validateIdNumberLength(idNumberInput);  

    });
</script>
